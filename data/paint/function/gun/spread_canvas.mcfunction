execute as @s[tag=blue,tag=!setup] positioned ~ ~1 ~ if block ~ ~ ~ #paint:paintable unless entity @e[tag=blue,tag=spread,distance=..0.5] run summon area_effect_cloud ~ ~ ~ {Tags:["canvas","blue","spread"],Duration:10000}
execute as @s[tag=blue,tag=!setup] positioned ~ ~-1 ~ if block ~ ~ ~ #paint:paintable unless entity @e[tag=blue,tag=spread,distance=..0.5] run summon area_effect_cloud ~ ~ ~ {Tags:["canvas","blue","spread"],Duration:10000}
execute as @s[tag=blue,tag=!setup] positioned ~1 ~ ~ if block ~ ~ ~ #paint:paintable unless entity @e[tag=blue,tag=spread,distance=..0.5] run summon area_effect_cloud ~ ~ ~ {Tags:["canvas","blue","spread"],Duration:10000}
execute as @s[tag=blue,tag=!setup] positioned ~-1 ~ ~ if block ~ ~ ~ #paint:paintable unless entity @e[tag=blue,tag=spread,distance=..0.5] run summon area_effect_cloud ~ ~ ~ {Tags:["canvas","blue","spread"],Duration:10000}
execute as @s[tag=blue,tag=!setup] positioned ~ ~ ~1 if block ~ ~ ~ #paint:paintable unless entity @e[tag=blue,tag=spread,distance=..0.5] run summon area_effect_cloud ~ ~ ~ {Tags:["canvas","blue","spread"],Duration:10000}
execute as @s[tag=blue,tag=!setup] positioned ~ ~ ~-1 if block ~ ~ ~ #paint:paintable unless entity @e[tag=blue,tag=spread,distance=..0.5] run summon area_effect_cloud ~ ~ ~ {Tags:["canvas","blue","spread"],Duration:10000}

execute as @s[tag=green,tag=!setup] positioned ~ ~1 ~ if block ~ ~ ~ #paint:paintable unless entity @e[tag=green,tag=spread,distance=..0.5] run summon area_effect_cloud ~ ~ ~ {Tags:["canvas","green","spread"],Duration:10000}
execute as @s[tag=green,tag=!setup] positioned ~ ~-1 ~ if block ~ ~ ~ #paint:paintable unless entity @e[tag=green,tag=spread,distance=..0.5] run summon area_effect_cloud ~ ~ ~ {Tags:["canvas","green","spread"],Duration:10000}
execute as @s[tag=green,tag=!setup] positioned ~1 ~ ~ if block ~ ~ ~ #paint:paintable unless entity @e[tag=green,tag=spread,distance=..0.5] run summon area_effect_cloud ~ ~ ~ {Tags:["canvas","green","spread"],Duration:10000}
execute as @s[tag=green,tag=!setup] positioned ~-1 ~ ~ if block ~ ~ ~ #paint:paintable unless entity @e[tag=green,tag=spread,distance=..0.5] run summon area_effect_cloud ~ ~ ~ {Tags:["canvas","green","spread"],Duration:10000}
execute as @s[tag=green,tag=!setup] positioned ~ ~ ~1 if block ~ ~ ~ #paint:paintable unless entity @e[tag=green,tag=spread,distance=..0.5] run summon area_effect_cloud ~ ~ ~ {Tags:["canvas","green","spread"],Duration:10000}
execute as @s[tag=green,tag=!setup] positioned ~ ~ ~-1 if block ~ ~ ~ #paint:paintable unless entity @e[tag=green,tag=spread,distance=..0.5] run summon area_effect_cloud ~ ~ ~ {Tags:["canvas","green","spread"],Duration:10000}

execute as @s[tag=yellow,tag=!setup] positioned ~ ~1 ~ if block ~ ~ ~ #paint:paintable unless entity @e[tag=yellow,tag=spread,distance=..0.5] run summon area_effect_cloud ~ ~ ~ {Tags:["canvas","yellow","spread"],Duration:10000}
execute as @s[tag=yellow,tag=!setup] positioned ~ ~-1 ~ if block ~ ~ ~ #paint:paintable unless entity @e[tag=yellow,tag=spread,distance=..0.5] run summon area_effect_cloud ~ ~ ~ {Tags:["canvas","yellow","spread"],Duration:10000}
execute as @s[tag=yellow,tag=!setup] positioned ~1 ~ ~ if block ~ ~ ~ #paint:paintable unless entity @e[tag=yellow,tag=spread,distance=..0.5] run summon area_effect_cloud ~ ~ ~ {Tags:["canvas","yellow","spread"],Duration:10000}
execute as @s[tag=yellow,tag=!setup] positioned ~-1 ~ ~ if block ~ ~ ~ #paint:paintable unless entity @e[tag=yellow,tag=spread,distance=..0.5] run summon area_effect_cloud ~ ~ ~ {Tags:["canvas","yellow","spread"],Duration:10000}
execute as @s[tag=yellow,tag=!setup] positioned ~ ~ ~1 if block ~ ~ ~ #paint:paintable unless entity @e[tag=yellow,tag=spread,distance=..0.5] run summon area_effect_cloud ~ ~ ~ {Tags:["canvas","yellow","spread"],Duration:10000}
execute as @s[tag=yellow,tag=!setup] positioned ~ ~ ~-1 if block ~ ~ ~ #paint:paintable unless entity @e[tag=yellow,tag=spread,distance=..0.5] run summon area_effect_cloud ~ ~ ~ {Tags:["canvas","yellow","spread"],Duration:10000}

execute as @s[tag=red,tag=!setup] positioned ~ ~1 ~ if block ~ ~ ~ #paint:paintable unless entity @e[tag=red,tag=spread,distance=..0.5] run summon area_effect_cloud ~ ~ ~ {Tags:["canvas","red","spread"],Duration:10000}
execute as @s[tag=red,tag=!setup] positioned ~ ~-1 ~ if block ~ ~ ~ #paint:paintable unless entity @e[tag=red,tag=spread,distance=..0.5] run summon area_effect_cloud ~ ~ ~ {Tags:["canvas","red","spread"],Duration:10000}
execute as @s[tag=red,tag=!setup] positioned ~1 ~ ~ if block ~ ~ ~ #paint:paintable unless entity @e[tag=red,tag=spread,distance=..0.5] run summon area_effect_cloud ~ ~ ~ {Tags:["canvas","red","spread"],Duration:10000}
execute as @s[tag=red,tag=!setup] positioned ~-1 ~ ~ if block ~ ~ ~ #paint:paintable unless entity @e[tag=red,tag=spread,distance=..0.5] run summon area_effect_cloud ~ ~ ~ {Tags:["canvas","red","spread"],Duration:10000}
execute as @s[tag=red,tag=!setup] positioned ~ ~ ~1 if block ~ ~ ~ #paint:paintable unless entity @e[tag=red,tag=spread,distance=..0.5] run summon area_effect_cloud ~ ~ ~ {Tags:["canvas","red","spread"],Duration:10000}
execute as @s[tag=red,tag=!setup] positioned ~ ~ ~-1 if block ~ ~ ~ #paint:paintable unless entity @e[tag=red,tag=spread,distance=..0.5] run summon area_effect_cloud ~ ~ ~ {Tags:["canvas","red","spread"],Duration:10000}

execute as @s[tag=purple,tag=!setup] positioned ~ ~1 ~ if block ~ ~ ~ #paint:paintable unless entity @e[tag=purple,tag=spread,distance=..0.5] run summon area_effect_cloud ~ ~ ~ {Tags:["canvas","purple","spread"],Duration:10000}
execute as @s[tag=purple,tag=!setup] positioned ~ ~-1 ~ if block ~ ~ ~ #paint:paintable unless entity @e[tag=purple,tag=spread,distance=..0.5] run summon area_effect_cloud ~ ~ ~ {Tags:["canvas","purple","spread"],Duration:10000}
execute as @s[tag=purple,tag=!setup] positioned ~1 ~ ~ if block ~ ~ ~ #paint:paintable unless entity @e[tag=purple,tag=spread,distance=..0.5] run summon area_effect_cloud ~ ~ ~ {Tags:["canvas","purple","spread"],Duration:10000}
execute as @s[tag=purple,tag=!setup] positioned ~-1 ~ ~ if block ~ ~ ~ #paint:paintable unless entity @e[tag=purple,tag=spread,distance=..0.5] run summon area_effect_cloud ~ ~ ~ {Tags:["canvas","purple","spread"],Duration:10000}
execute as @s[tag=purple,tag=!setup] positioned ~ ~ ~1 if block ~ ~ ~ #paint:paintable unless entity @e[tag=purple,tag=spread,distance=..0.5] run summon area_effect_cloud ~ ~ ~ {Tags:["canvas","purple","spread"],Duration:10000}
execute as @s[tag=purple,tag=!setup] positioned ~ ~ ~-1 if block ~ ~ ~ #paint:paintable unless entity @e[tag=purple,tag=spread,distance=..0.5] run summon area_effect_cloud ~ ~ ~ {Tags:["canvas","purple","spread"],Duration:10000}

execute as @s[tag=P1] at @s run tag @e[type=area_effect_cloud,tag=canvas,tag=spread,distance=..1.5,tag=!setup,tag=!P4,tag=!P2,tag=!P3] add P1
execute as @s[tag=P2] at @s run tag @e[type=area_effect_cloud,tag=canvas,tag=spread,distance=..1.5,tag=!setup,tag=!P1,tag=!P4,tag=!P3] add P2
execute as @s[tag=P3] at @s run tag @e[type=area_effect_cloud,tag=canvas,tag=spread,distance=..1.5,tag=!setup,tag=!P1,tag=!P2,tag=!P4] add P3
execute as @s[tag=P4] at @s run tag @e[type=area_effect_cloud,tag=canvas,tag=spread,distance=..1.5,tag=!setup,tag=!P1,tag=!P2,tag=!P3] add P4
execute as @s[tag=P5] at @s run tag @e[type=area_effect_cloud,tag=canvas,tag=spread,distance=..1.5,tag=!setup,tag=!P1,tag=!P2,tag=!P3,tag=!P4] add P5

execute as @s[tag=blue] at @s align xyz positioned ~0.5 ~0.5 ~0.5 run particle minecraft:dust{color:[0f,0.7f,1f],scale:2} ~ ~ ~ 0.45 0.45 0.45 1 4
execute as @s[tag=green] at @s align xyz positioned ~0.5 ~0.5 ~0.5 run particle minecraft:dust{color:[0f,1f,.2f],scale:2} ~ ~ ~ 0.45 0.45 0.45 1 4
execute as @s[tag=yellow] at @s align xyz positioned ~0.5 ~0.5 ~0.5 run particle minecraft:dust{color:[1f,0.8f,0f],scale:2} ~ ~ ~ 0.45 0.45 0.45 1 4
execute as @s[tag=red] at @s align xyz positioned ~0.5 ~0.5 ~0.5 run particle minecraft:dust{color:[1f,0f,.5f],scale:2} ~ ~ ~ 0.45 0.45 0.45 1 4
execute as @s[tag=white] at @s align xyz positioned ~0.5 ~0.5 ~0.5 run particle minecraft:dust{color:[0f,0f,0f],scale:2} ~ ~ ~ 0.45 0.45 0.45 1 4

execute as @s[tag=!setup,tag=blue] store success score @s success run fill ~ ~ ~ ~ ~ ~ polished_diorite replace #paint:paintable
execute as @s[tag=!setup,tag=green] store success score @s success run fill ~ ~ ~ ~ ~ ~ diorite replace #paint:paintable
execute as @s[tag=!setup,tag=yellow] store success score @s success run fill ~ ~ ~ ~ ~ ~ polished_granite replace #paint:paintable
execute as @s[tag=!setup,tag=red] store success score @s success run fill ~ ~ ~ ~ ~ ~ granite replace #paint:paintable
execute as @s[tag=!setup,tag=purple] store success score @s success run fill ~ ~ ~ ~ ~ ~ andesite replace #paint:paintable
execute as @s[tag=!setup,scores={success=1..}] at @s run playsound minecraft:entity.item_frame.rotate_item master @a ~ ~ ~ 0.3 1

tag @s[tag=!setup] add setup
